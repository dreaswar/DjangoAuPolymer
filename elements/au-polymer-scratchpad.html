<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../bower_components/core-elements/core-elements.html">
<link rel="import" href="../bower_component/core-drag-drop/core-drag-drop.html">

<polymer-element name="au-polymer-scratchpad">
  <template>
    <style>
      div#scratchPadContainer {
        width: 200px;
        height: auto;
        position: relative;
        top: 0;
        left: 0;
        margin: 5px;
        box-shadow: -3px 4px 14px #aaa;
      }
      div#titleBlock {
       background: yellow;
       min-width: 100%; 
       min-height: 20px;
       max-width: 200px;
       max-height: 20px;
       overflow: auto;
       border: solid 1pt sienna;
       position:relative;
       top: 0;
       left: 0;
       margin: 0px;
       text-align: center;
       vertical-align: middle;
       font-family: Helvetica, Sans-serif;
      }
      div#scratchPadContent {
       background: ivory;
       border: solid 1pt #aaa;
       border-radius: 0px 0px 5px 5px;
       min-width: 100%;
       max-width: 100%;
       min-height: 200px;
       max-height: auto;
       overflow: auto;
       position: relative;
       left: 0;
       margin-bottom: 3px;
      }
      div#scratchPadContainer textarea {
       width: 97%;
       max-width: 97%;
       height: auto;
       border: solid 1pt blue;
       background: ivory;
       box-shadow: 3px 3px 0px #ddd;
       margin: 0;
       padding: 2px;
       color: sienna;
       font-family:  helvetica;
      }
    </style>

    <div id="scratchPadContainer" draggable="true">
        <div> 
  	    <core-toolbar flex tool> 
		<div flex>{{scratchPadTitle}}</div>
                <core-icon-button 
                    icon="save"
                    id="saveIcon"
                    on-click="{{onSaveIconClick}}"
                    > 
                </core-icon-button>
	    </core-toolbar>

	    <div id="scratchPadContent"> 
              {{scratchPadContent}}
	    </div>
        </div>
        <!-- <core-ajax url="http://example.com/json" 
                     auto response="{{resp}}">
             </core-ajax> 
        -->
        <label for="scratchPad"> 
          Enter scrap note
        </label>
        <textarea id="scratchPad" value="" 
              on-keypress="{{scratchPadChanged}}"
              on-keyup="{{scratchPadChanged}}"
              >
        </textarea>
   </div>

  </template>

  <script>
      Polymer({

         scratchPadTitle: 'Scratchpad',

         scratchPadContent: 'This is a Scratchpad.'+
                            'Enter content below to change the note here.',
         ready: function(){ 
                    this.$.scratchPad.value= this.scratchPadContent; 
         },

         scratchPadChanged: function() { 
		    this.scratchPadContent = this.$.scratchPad.value; 
	 },

         onSaveIconClick: function(){ 
                    if(this.scratchPadContent.trim()){
                         alert('Scractchpad Content: \n'+ this.scratchPadContent);
                    }else{
                         alert("Nothing in sratch pad !! ");
                    }
         },
         

      });

  </script>

</polymer-element>
